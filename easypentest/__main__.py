from easypentest.__version__ import __version__
from easypentest.__core__ import *
import requests


def versioncheck():
    version_url = "https://raw.githubusercontent.com/emil0212/EasyPentest/main/easypentest/__version__.py"
    response = requests.get(version_url)
    if response.status_code == 200:
        remote_version = response.text.strip().split("=")[1].replace('"', '')
        local_version = __version__
        if remote_version != local_version:
            print(f"New version {remote_version} available!")
        else:
            print("Already up to date")
    else:
        print(f"Error fetching version from {version_url}: {response.status_code}")


def main():
    banner()
    versioncheck()
    create_menu()
main()
